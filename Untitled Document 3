[START CURRENT GUI DESCRIPTION]
The screenshot shows a successful integration of a procedurally generated fantasy world map from **Azgaar's Fantasy Map Generator** into the **Godot game engine**.

The window title "Eryndor 4.0 Final (DEBUG)" indicates this is a debug build of a Godot project named Eryndor (version 4.0 final), likely a custom fantasy world or game prototype.

The map depicts a large, irregularly shaped supercontinent surrounded by ocean, with varied terrain implied by the land shapes and scattered lakes/rivers. Political boundaries divide the land into numerous states, each filled with distinct pastel colors and labeled with fantasy-inspired names, such as:

- **Uratzan Empire** (large gray area in the west)
- **Ovepinian Empire** (pink, northwest)
- **Sanconese Empire** (orange, central)
- **Bozovazhyrt Khaghanate** (central-east)
- **Kingdom of Coudria** (northeast)
- **Kingdom of Botfordia** (east)
- **Grand Duchy of Lerkhaly** (northwest)
- **Principality of Osaily** (southwest)
- **Kingdom of Kaumhia** (south-central)
- **Kingdom of Lepasma** (south)
- **Republic of Devell** (central)
- **Republic of Ekinsaz** (southeast)
- And many smaller ones like Vicreaizan Triumvirate, Duchy of Boshamber, etc.

Small cities/towns mark dots with names (e.g., "Althano", "Covahyur"). A scale bar at the bottom reads "0 120 240 360 480 600 mi", and a question mark icon appears in the bottom-right corner, possibly a UI element or debug overlay.

The background features a starry space-like effect with white specks (likely falling snow or particles), adding an atmospheric touch beyond the standard Azgaar output.

Overall, this represents an early or test render of an Azgaar-generated map (complete with states, burgs, and labels) imported and displayed within Godot, possibly as a texture, SVG, or custom node for use in a game—such as an overworld map, strategy game, or RPG. The "(DEBUG)" tag and visible window borders confirm it's running in Godot's editor or debug mode.
[END CURRENT GUI DESCRIPTION]


[START DESIRED GUI DESCRIPTION]
### Observations about the Desired GUI Render of "Eryndor 4.0 Final (DEBUG)"

This screenshot shows a significantly more advanced and populated state of the same world-building tool compared to the previous blank version. It appears to represent the target or "desired" layout and functionality during the map generation/editing phase.

#### Overall Layout and Theme
- Consistent dark theme with orange accents, now feeling more complete and purposeful.
- Title updated to include a subtitle: **"World Builder - Forging the World"** – adds thematic flavor (fantasy-inspired, fitting the name "Eryndor").
- FPS improved slightly to **3.0** (still low, expected in debug with rendering active).
- Three main vertical sections:
  1. **Left sidebar**: Multi-step navigation menu.
  2. **Center**: Large canvas for viewing/editing the procedural map.
  3. **Right sidebar**: Detailed parameter controls and generation buttons.

#### Left Sidebar – Step Navigation
- Vertical list of 8 major steps, styled as tabs or buttons:
  1. **Map Generation & Editing** (currently active/highlighted)
  2. Terrain
  3. Climate
  4. Biomes
  5. Structures & Civilizations
  6. Environment
  7. Resources & Magic
  8. Export
- This reveals the full scope: a comprehensive fantasy world builder that goes far beyond basic terrain – it includes climate, biomes, civilizations, magic resources, and final export.
- Clean progressive workflow design that guides the user through layers of world complexity.

#### Center Canvas – Map Preview
- No longer blank: now displays a **procedural landmass**.
  - Large blue area = ocean/water.
  - Greenish landmass with soft, noisy coastline – classic Perlin/Simplex noise result.
  - Shape resembles a rough "C" or bay-facing continent (one main landmass with indentation).
  - Low resolution or early preview stage (slightly pixelated/blurry edges).
- Instructions overlaid faintly on the right:  
  "Procedural Map Generation & Editing - Configure parameters and generate your world map. Left-click to paint terrain, scroll to zoom, drag to pan."
- Indicates interactive editing is supported directly on the canvas.

#### Right Sidebar – Controls and Parameters
- **Top section**:
  - Seed: **12345** (editable field for reproducibility).
  - Fantasy Style: Dropdown (current value not fully visible).
  - Dark Fantasy (possibly a checkbox or sub-option).
  - World Size: **Small**
  - Landmass Type: **Archipelago** (note: current map shows one main continent, so this might not match yet – possibly needs regeneration).
- **Buttons**:
  - **Generate Map** (orange) – primary action to (re)generate based on params.
  - **Bake to 3D** – converts the 2D map into a 3D world (likely next major step).
- **Noise Parameters** (classic procedural controls):
  - Noise Frequency: **0.0005**
  - Octaves: **4**
  - Persistence: **0.5**
  - Lacunarity: **2.0**
  - World Parameters
  - Sea Level: **0.4**
  - Enable Erosion: Checked (☑)
- These are standard Simplex/Perlin noise settings for continent generation, with erosion enabled for more natural coastlines/rivers later.

#### Top Toolbar (Partial View)
- Similar to previous: View Heightmap, Biomes, Tools (Raise, Lower, Smooth), Regenerate, Generate 3D World.
- "Biomes" added as a view option – aligns with later steps.

#### Bottom Navigation
- **Back** and **Next** buttons (Next highlighted in orange) – allows progressing to the Terrain step once satisfied with the map.

#### Key Improvements/Desired Features Evident Here
- Clear multi-stage pipeline for building a full fantasy world, not just terrain.
- Interactive 2D map editing with panning, zooming, and painting.
- Highly configurable procedural generation (seed, noise params, sea level, erosion).
- Thematic elements integrated early (Fantasy Style, Dark Fantasy, Resources & Magic step).
- Preview canvas is central and functional, giving immediate visual feedback.
- Logical separation of global parameters (right) from workflow steps (left).
[END DESIRED GUI DESCRIPTION]



[START DESIRED GUI STRUCTURE]
Full-Screen Root (Control, anchors_full_rect, theme=dark_fantasy_theme.tres)
├── Main HSplitContainer (left ~15-20%, center ~60-65%, right ~20-25%)
│   ├── Left Panel (Step Navigation – Fixed width, vertical layout)
│   │   └── VBoxContainer
│   │       ├── Title Label ("World Builder – Forging the World", centered, bold, thematic font)
│   │       └── VBoxContainer (list of step buttons/tabs, styled as vertical sidebar)
│   │           ├── 1. Map Generation & Editing (highlighted when active)
│   │           ├── 2. Terrain
│   │           ├── 3. Climate
│   │           ├── 4. Biomes
│   │           ├── 5. Structures & Civilizations
│   │           ├── 6. Environment
│   │           ├── 7. Resources & Magic
│   │           └── 8. Export
│   │               (Buttons dim when inactive, orange highlight on current step)
│   ├── Center Panel (Map Display – Largest area, expand_fill)
│   │   └── Azgaar WebView (GDCef – full embedded browser showing live Azgaar map)
│   │       ├── Displays the complete interactive Azgaar Fantasy Map Generator interface/map
│   │       ├── No local overlays, no custom painting tools (all editing happens inside Azgaar via its own UI/tools)
│   │       ├── Supports all native Azgaar layer views (user can switch inside Azgaar: heightmap, biomes, temperature, precipitation, population, political, rivers, religions, etc.)
│   │       ├── (Future: possible toggle/switch to a separate 3D Terrain preview after bake, but primary view remains Azgaar)
│   └── Right Panel (Active Step Controls – Scrollable, populated dynamically)
│       └── VBoxContainer inside ScrollContainer
│           ├── Section Title Label (updates with active left step, e.g., "Map Generation & Editing")
│           ├── Parameter controls for current step (loaded from Azgaar options relevant to the step)
│           │   ├── All "global" inputs (seed, template, map size, etc.) appear here in the first step
│           │   ├── Subsequent steps show their respective Azgaar-configurable options (e.g., climate settings in Climate step)
│           │   ├── Controls are standard Godot inputs (sliders, checkboxes, dropdowns, etc.) that send commands to Azgaar via available JS injection or URL params
│           └── Tooltips on hover + optional performance notes
└── Bottom HBoxContainer (full width, dark bar, overlaid on lower part of center panel)
    ├── (Centered over the bottom of the map viewport)
    │   ├── Generate / Apply Changes Button (large, orange/gold-accented – triggers Azgaar regeneration)
    │   └── Bake to 3D Button (appears later, disabled until map is finalized – exports heightmap/data for 3D conversion)
    ├── Back Button (left-aligned, dim if at first step)
    ├── Next Button (right-aligned, orange/gold highlighted, primary navigation)
    └── Status Label (center or near buttons – e.g., "Ready", "Generating...", or Azgaar progress messages)
[END DESIRED GUI STRUCTURE]


[USER INSTRUCTION] 
We need to instruct Cursor through a Prompt to investigate the code base and generate a report named: GUI_update_integration_investigation_audit.md dir: audit in root.
The report should cover everything needed to perform the migration to the proper render approach.
